import{r as b,j as e,y as c,a as w}from"./index-TEer4uYd.js";const G="_adminDashboard_am1ee_3",S="_uploadForm_am1ee_10",_="_formGroup_am1ee_15",E="_uploadBtn_am1ee_32",a={adminDashboard:G,uploadForm:S,formGroup:_,uploadBtn:E},W=()=>{const[d,m]=b.useState({name:"",price:"",description:"",category:"men-watches",inventory:"",discountPercentage:"",offerStart:"",offerEnd:""}),[p,u]=b.useState(null),{name:h,price:f,description:x,category:j,inventory:g,discountPercentage:o,offerStart:s,offerEnd:i}=d,t=n=>m({...d,[n.target.name]:n.target.value}),F=n=>{n.target.files&&n.target.files[0]&&u(n.target.files[0])},D=async n=>{var v,y;if(n.preventDefault(),(o||s||i)&&!(o&&s&&i)){c.error("Please provide discount percentage, offer start date, and offer end date together, or leave all empty.");return}try{const l=localStorage.getItem("token"),r=new FormData;r.append("name",h),r.append("price",f),r.append("description",x),r.append("category",j),r.append("inventory",g),r.append("discountPercentage",o),r.append("offerStart",s),r.append("offerEnd",i),p&&r.append("image",p);const N={headers:{Authorization:`Bearer ${l}`}};await w.post("http://localhost:5000/api/watches",r,N),c.success("Watch uploaded successfully"),m({name:"",price:"",description:"",category:"men-watches",inventory:"",discountPercentage:"",offerStart:"",offerEnd:""}),u(null)}catch(l){console.error(l),c.error(((y=(v=l.response)==null?void 0:v.data)==null?void 0:y.message)||"Failed to upload watch")}};return e.jsxs("div",{className:a.adminDashboard,children:[e.jsx("h2",{children:"Admin Dashboard"}),e.jsxs("form",{onSubmit:D,className:a.uploadForm,children:[e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"name",children:"Watch Name:"}),e.jsx("input",{type:"text",name:"name",value:h,onChange:t,required:!0})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"price",children:"Price:"}),e.jsx("input",{type:"number",name:"price",value:f,onChange:t,required:!0,min:"0",step:"0.01"})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"category",children:"Category:"}),e.jsxs("select",{name:"category",value:j,onChange:t,required:!0,children:[e.jsx("option",{value:"men-watches",children:"Men's Watches"}),e.jsx("option",{value:"women-watches",children:"Women's Watches"}),e.jsx("option",{value:"luxury-watches",children:"Luxury Watches"}),e.jsx("option",{value:"smartwatches",children:"Smartwatches"})]})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"description",children:"Description:"}),e.jsx("textarea",{name:"description",value:x,onChange:t,required:!0})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"inventory",children:"Inventory:"}),e.jsx("input",{type:"number",name:"inventory",value:g,onChange:t,required:!0,min:"0",step:"1"})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"discountPercentage",children:"Discount Percentage (optional):"}),e.jsx("input",{type:"number",name:"discountPercentage",value:o,onChange:t,min:"0",max:"100",step:"1"})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"offerStart",children:"Offer Start Date (optional):"}),e.jsx("input",{type:"date",name:"offerStart",value:s,onChange:t})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"offerEnd",children:"Offer End Date (optional):"}),e.jsx("input",{type:"date",name:"offerEnd",value:i,onChange:t})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"image",children:"Image File:"}),e.jsx("input",{type:"file",name:"image",onChange:F,accept:"image/*",required:!0})]}),e.jsx("button",{type:"submit",className:a.uploadBtn,children:"Upload Watch"})]})]})};export{W as default};
