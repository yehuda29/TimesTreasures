import{r,j as e,a as j}from"./index-TEer4uYd.js";import{I as g,P as v}from"./index.es-a6Voi_oT.js";import"./imageUtil-CPgIs8eT.js";import"./priceUtil-7XU-dkmR.js";const S="_menWatches_10poq_4",W="_title_10poq_12",w="_productGrid_10poq_21",M="_loader_10poq_28",N="_endMessage_10poq_36",q="_sortContainer_10poq_45",y="_sortSelect_10poq_57",s={menWatches:S,title:W,productGrid:w,loader:M,endMessage:N,sortContainer:q,sortSelect:y},G=()=>{const[l,p]=r.useState([]),[a,i]=r.useState(12),[m,o]=r.useState(!0),[d,u]=r.useState(null),[n,x]=r.useState("");r.useEffect(()=>{const t=async()=>{try{const c=(await j.get("http://localhost:5000/api/watches",{params:{category:"men-watches",sort:n,page:1,limit:100}})).data.data;if(!Array.isArray(c))throw new Error("Invalid data format from server");p(c),c.length<=a?o(!1):o(!0)}catch(h){console.error(h),u("Failed to fetch men's watches.")}};i(12),t()},[n]);const _=()=>{if(a>=l.length){o(!1);return}setTimeout(()=>{i(t=>t+12)},500)},f=t=>{x(t.target.value)};return d?e.jsx("p",{className:s.error,children:d}):e.jsxs("div",{className:s.menWatches,children:[e.jsx("h2",{className:s.title,children:"Men's Watches"}),e.jsxs("div",{className:s.sortContainer,children:[e.jsx("label",{htmlFor:"sortSelect",children:"Sort by:"}),e.jsxs("select",{id:"sortSelect",value:n,onChange:f,children:[e.jsx("option",{value:"",children:"Newest (Default)"}),e.jsx("option",{value:"name",children:"Name (A-Z)"}),e.jsx("option",{value:"-name",children:"Name (Z-A)"}),e.jsx("option",{value:"price",children:"Price (Low to High)"}),e.jsx("option",{value:"-price",children:"Price (High to Low)"})]})]}),e.jsx(g,{dataLength:a,next:_,hasMore:m,loader:e.jsx("h4",{className:s.loader,children:"Loading..."}),endMessage:e.jsx("p",{className:s.endMessage,children:e.jsx("b",{children:"You've seen all our men's watches!"})}),children:e.jsx("div",{className:s.productGrid,children:l.slice(0,a).map(t=>e.jsx(v,{watch:t},t._id))})})]})};export{G as default};
