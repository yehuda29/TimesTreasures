import{r as a,j as e,a as j}from"./index-TEer4uYd.js";import{I as g,P as w}from"./index.es-a6Voi_oT.js";import"./imageUtil-CPgIs8eT.js";import"./priceUtil-7XU-dkmR.js";const S="_womenWatches_1c4x2_4",v="_title_1c4x2_12",W="_productGrid_1c4x2_21",N="_loader_1c4x2_28",M="_endMessage_1c4x2_36",y="_sortContainer_1c4x2_45",C="_sortSelect_1c4x2_57",t={womenWatches:S,title:v,productGrid:W,loader:N,endMessage:M,sortContainer:y,sortSelect:C},L=()=>{const[l,m]=a.useState([]),[r,i]=a.useState(12),[u,o]=a.useState(!0),[h,x]=a.useState(null),[c,p]=a.useState("");a.useEffect(()=>{(async()=>{try{const n=(await j.get("http://localhost:5000/api/watches",{params:{category:"women-watches",sort:c,page:1,limit:100}})).data.data;if(!Array.isArray(n))throw new Error("Invalid data format from server");m(n),n.length<=12?o(!1):o(!0),i(12)}catch(d){console.error(d),x("Failed to fetch women's watches.")}})()},[c]);const _=()=>{if(r>=l.length){o(!1);return}setTimeout(()=>{i(s=>s+12)},500)},f=s=>{p(s.target.value)};return h?e.jsx("p",{className:t.error,children:h}):e.jsxs("div",{className:t.womenWatches,children:[e.jsx("h2",{className:t.title,children:"Women's Watches"}),e.jsxs("div",{className:t.sortContainer,children:[e.jsx("label",{htmlFor:"sortSelect",children:"Sort by:"}),e.jsxs("select",{id:"sortSelect",className:t.sortSelect,value:c,onChange:f,children:[e.jsx("option",{value:"",children:"Newest (Default)"}),e.jsx("option",{value:"name",children:"Name (A-Z)"}),e.jsx("option",{value:"-name",children:"Name (Z-A)"}),e.jsx("option",{value:"price",children:"Price (Low to High)"}),e.jsx("option",{value:"-price",children:"Price (High to Low)"})]})]}),e.jsx(g,{dataLength:r,next:_,hasMore:u,loader:e.jsx("h4",{className:t.loader,children:"Loading..."}),endMessage:e.jsx("p",{className:t.endMessage,children:e.jsx("b",{children:"You have seen all our women's watches!"})}),children:e.jsx("div",{className:t.productGrid,children:l.slice(0,r).map(s=>e.jsx(w,{watch:s},s._id))})})]})};export{L as default};
