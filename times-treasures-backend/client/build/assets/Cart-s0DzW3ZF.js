import{r as n,A as _,C as x,j as t,L as j}from"./index-TEer4uYd.js";import{g as p}from"./imageUtil-CPgIs8eT.js";import{c as i}from"./priceUtil-7XU-dkmR.js";const b="_cartContainer_13u6b_3",w="_cartList_13u6b_10",g="_cartItem_13u6b_15",C="_watchImage_13u6b_22",y="_itemDetails_13u6b_30",N="_quantity_13u6b_38",f="_removeBtn_13u6b_45",P="_cartSummary_13u6b_58",v="_purchaseBtn_13u6b_63",B="_priceContainer_13u6b_78",I="_originalPrice_13u6b_84",F="_arrow_13u6b_88",q="_discountedPrice_13u6b_93",L="_specialOfferBadge_13u6b_98",c={cartContainer:b,cartList:w,cartItem:g,watchImage:C,itemDetails:y,quantity:N,removeBtn:f,cartSummary:P,purchaseBtn:v,priceContainer:B,originalPrice:I,arrow:F,discountedPrice:q,specialOfferBadge:L},$=()=>{const{user:o,token:l}=n.useContext(_),{cartItems:s,removeFromCart:u}=n.useContext(x),h=e=>typeof e.watch=="object"?e.watch._id:e.watch;if(!o)return t.jsxs("div",{className:c.cartContainer,children:[t.jsx("h2",{children:"Your Cart"}),t.jsxs("p",{children:["Please ",t.jsx("a",{href:"/login",children:"login"})," to view your cart."]})]});const d=s.reduce((e,r)=>{const a=i(r.watch);return e+a*r.quantity},0);return t.jsxs("div",{className:c.cartContainer,children:[t.jsx("h2",{children:"Your Cart"}),s.length===0?t.jsx("p",{children:"Your cart is empty."}):t.jsxs(t.Fragment,{children:[t.jsx("ul",{className:c.cartList,children:s.map((e,r)=>{if(!e.watch||typeof e.watch!="object")return null;const a=i(e.watch),m=a<Number(e.watch.price);return t.jsxs("li",{className:c.cartItem,children:[t.jsx("img",{src:p(e.watch.image),alt:e.watch.name,className:c.watchImage}),t.jsxs("div",{className:c.itemDetails,children:[t.jsx("h3",{children:e.watch.name}),m?t.jsxs("div",{className:c.priceContainer,children:[t.jsx("p",{className:c.originalPrice,children:t.jsxs("s",{children:["$",Number(e.watch.price).toFixed(2)]})}),t.jsx("span",{className:c.arrow,children:"â†’"}),t.jsxs("p",{className:c.discountedPrice,children:["$",a.toFixed(2)]})]}):t.jsxs("p",{children:["Price: $",Number(e.watch.price).toFixed(2)]}),t.jsxs("div",{className:c.quantity,children:[t.jsx("label",{children:"Quantity:"}),t.jsx("span",{children:e.quantity})]}),t.jsxs("p",{children:["Subtotal: $",(a*e.quantity).toFixed(2)]}),t.jsx("button",{onClick:()=>u(h(e),l),className:c.removeBtn,children:"Remove"})]})]},r)})}),t.jsxs("div",{className:c.cartSummary,children:[t.jsxs("h3",{children:["Total: $",d.toFixed(2)]}),t.jsx(j,{to:"/checkout",children:t.jsx("button",{className:c.checkoutBtn,children:"Proceed to Checkout"})})]})]})]})};export{$ as default};
